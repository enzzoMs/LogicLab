---
import Card from "@components/shared/Card.astro";
import { ArrowRight, BookOpen, Clock } from "@lucide/astro";

interface Props {
  title: string;
  description: string;
  duration: number;
  difficulty: "Beginner" | "Intermediate" | "Advanced";
  lessonName: string;
}

const { title, description, duration, difficulty, lessonName } = Astro.props;

let badgeStyle: string;

switch (difficulty) {
  case "Beginner":
    badgeStyle = "green";
    break;
  case "Intermediate":
    badgeStyle = "yellow";
    break;
  case "Advanced":
    badgeStyle = "red";
    break;
}
---

<article>
  <Card title={title} icon={BookOpen}>
    <div class="lesson">
      <div class="lesson-header">
        <p class={`badge-${badgeStyle}`}>{difficulty}</p>
        <div class="lesson-duration">
          <Clock /> <p>{duration} min</p>
        </div>
      </div>
      <p>{description}</p>
      <a href={`/lessons/${lessonName}`} class="btn-primary btn-small">
        Start <ArrowRight />
      </a>
    </div>
  </Card>
</article>

<style>
  article > :global(*) {
    height: 100%;
  }

  .lesson {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: start;
    justify-content: stretch;
    gap: var(--space-xs);
  }

  .lesson-header {
    display: flex;
    gap: var(--space-xs);
  }

  .lesson-duration {
    display: flex;
    align-items: center;
    font-size: var(--text-s);
    gap: var(--space-2xs);
  }

  .lesson-duration svg {
    width: 1.25em;
    height: 1.25em;
  }

  .lesson > p {
    flex: 1;
  }

  a {
    align-self: end;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-3xs);
  }

  a svg {
    width: 1.25em;
    height: 1.25em;
  }
</style>